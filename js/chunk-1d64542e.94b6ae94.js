(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d64542e"],{"0b42":function(e,t,n){var c=n("da84"),o=n("e8b5"),a=n("68ee"),r=n("861d"),d=n("b622"),i=d("species"),l=c.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,a(t)&&(t===l||o(t.prototype))?t=void 0:r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?l:t}},"1dde":function(e,t,n){var c=n("d039"),o=n("b622"),a=n("2d00"),r=o("species");e.exports=function(e){return a>=51||!c((function(){var t=[],n=t.constructor={};return n[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"619a":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o={class:"vld-parent"},a=Object(c["createElementVNode"])("h2",{class:"mt-5"},"產品列表頁面",-1),r={class:"container mt-5"},d={class:"table align-middle"},i=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"圖片"),Object(c["createElementVNode"])("th",null,"商品名稱"),Object(c["createElementVNode"])("th",null,"價格"),Object(c["createElementVNode"])("th")])],-1),l={style:{width:"200px"}},s={class:"h6"},u={class:"h5"},b={class:"btn-group btn-group-sm"},f={key:0,class:"fas fa-spinner fa-pulse"},p=Object(c["createTextVNode"])(" 查看細節 "),m=["disabled","onClick"],j={key:0,class:"fas fa-spinner fa-pulse"},O=Object(c["createTextVNode"])(" 加到購物車 ");function h(e,t,n,h,v,g){var E=Object(c["resolveComponent"])("Loading"),N=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",o,[Object(c["createVNode"])(E,{active:v.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return v.isLoading=e})},null,8,["active"])]),a,Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("table",d,[i,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(v.products,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tbody",{key:e.id},[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",l,[Object(c["createElementVNode"])("div",{style:Object(c["normalizeStyle"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(e.imageUrl,")")}])},null,4)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("del",s,"原價 "+Object(c["toDisplayString"])(e.origin_price)+" 元",1),Object(c["createElementVNode"])("div",u,"現在只要 "+Object(c["toDisplayString"])(e.price)+" 元",1)]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",b,[Object(c["createVNode"])(N,{type:"button",class:"btn btn-outline-secondary",disabled:v.loadItemId===e.id,to:"/product/".concat(e.id)},{default:Object(c["withCtx"])((function(){return[v.loadItemId===e.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",f)):Object(c["createCommentVNode"])("",!0),p]})),_:2},1032,["disabled","to"]),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",disabled:v.loadItemId===e.id,onClick:function(t){return g.addToCart(e.id)}},[v.loadItemId===e.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",j)):Object(c["createCommentVNode"])("",!0),O],8,m)])])])])})),128))])])],64)}n("99af");var v={data:function(){return{products:[],loadItemId:"",isLoading:!1}},methods:{getProducts:function(){var e=this;this.isLoading=!0,this.axios.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("skps0102","/products")).then((function(t){var n=t.data.products;e.products=n,e.isLoading=!1})).catch((function(){}))},addToCart:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c={data:{product_id:e,qty:n}};this.loadItemId=e,this.isLoading=!0,this.axios.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("skps0102","/cart"),c).then((function(e){t.loadItemId="",t.isLoading=!1,t.$swal(e.data.message)})).catch((function(e){t.$swal(e.data.message)}))}},created:function(){var e=this;this.$bus.$off("addCartData"),this.$bus.$on("addCartData",(function(t){var n=t.id,c=t.qty;e.addToCart(n,c)}))},mounted:function(){this.getProducts()}},g=n("6b0d"),E=n.n(g);const N=E()(v,[["render",h]]);t["default"]=N},"65f0":function(e,t,n){var c=n("0b42");e.exports=function(e,t){return new(c(e))(0===t?0:t)}},8418:function(e,t,n){"use strict";var c=n("a04b"),o=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var r=c(t);r in e?o.f(e,r,a(0,n)):e[r]=n}},"99af":function(e,t,n){"use strict";var c=n("23e7"),o=n("da84"),a=n("d039"),r=n("e8b5"),d=n("861d"),i=n("7b0b"),l=n("07fa"),s=n("8418"),u=n("65f0"),b=n("1dde"),f=n("b622"),p=n("2d00"),m=f("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",h=o.TypeError,v=p>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=b("concat"),E=function(e){if(!d(e))return!1;var t=e[m];return void 0!==t?!!t:r(e)},N=!v||!g;c({target:"Array",proto:!0,forced:N},{concat:function(e){var t,n,c,o,a,r=i(this),d=u(r,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(a=-1===t?r:arguments[t],E(a)){if(o=l(a),b+o>j)throw h(O);for(n=0;n<o;n++,b++)n in a&&s(d,b,a[n])}else{if(b>=j)throw h(O);s(d,b++,a)}return d.length=b,d}})},e8b5:function(e,t,n){var c=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=chunk-1d64542e.94b6ae94.js.map